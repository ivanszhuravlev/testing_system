<aside class="hidden">
    <header>
        <img src="img/logo.png" class="logo">
    </header>

    <div class="logout-panel">
        <span>Здравствуйте, {{user.nick}}</span>
        <button ng-click="logout()">Выйти</button>
    </div>

    <nav ng-include="nav"></nav>

    <footer>
        <span>При поддержке гранта РГНФ №321</span>
    </footer>
</aside>
<div class="container translated block">
    <div class="questions">
        <a class="home" href="/user_{{user.id}}/blocks">
            <i class="material-icons">chevron_left</i>
            <span>Блоки</span>
        </a>
        <h1>Блок {{block.content_id}}. {{block.name}}.</h1>
        <form novalidate name="block_form" ng-submit="block_submit(block_controller.answers)">

            <div ng-repeat="question in questions">

                <div ng-if="$index >= found_table[0] && $index <= found_table[1]" class="table" 
                   ng-class="{ 'start' : $parent.$index == found_table[0], 'end' : $parent.$index == found_table[1] }">
                    <div>{{question.text}}</div>
                    <div ng-repeat="answer in question.answers">
                        <span ng-if="$parent.$index == found_table[0]">{{answer.text}}</span>
                        <input type="radio" name="{{question.name}}_{{question.q}}" value="{{answer.value}}" ng-model="block_controller.answers[question.id]">
                    </div>
                </div>

                <div class="question_wrapper" ng-if="$index < found_table[0] || $index > found_table[1] || found_table.length == 0">
                    <span>{{question.text}}</span>
                    <div class="checkbox" ng-if="question.answers.length != 1" ng-repeat="answer in question.answers">
                        <input type="radio" name="{{question.name}}_{{question.q}}" value="{{answer.value}}" ng-model="block_controller.answers[question.id]">
                        <label for="{{question.name}}">{{answer.text}}</label>
                    </div>
                    <input ng-if="question.answers.length == 1" type="text" maxlength="{{question.answers[0].symbols}}" ng-model="block_controller.answers[question.id]" required>
                </div>
                
            </div>

            <input type="submit" value="Далее" ng-disabled="block_form.$invalid" />
        </form>
    </div>
</div>